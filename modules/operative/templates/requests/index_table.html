{% load static %}
{% load humanize %}
{% load tools %}

<table class="table align-items-center mb-0">
    <thead>
        <tr>
            <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7" width="10%">NÃºmero</th>
            <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7" width="20%">Tomador</th>
            <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7" width="20%">Solicitante</th>
            <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7" width="10%">Ramo</th>
            <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7" width="10%">Valor</th>
            <th class="text-uppercase text-secondary text-xs font-weight-bolder opacity-7" width="10%">Estado</th>
            <th class="text-secondary opacity-7" width="20%"></th>
        </tr>
    </thead>
    <tbody>
        {% for operative_request in paginator.data %}
            <tr>
                <td class="align-middle text-end">
                    <span class="text-secondary text-xs font-weight-bold">{{operative_request.number}}</span>
                </td>
                <td class="align-middle">
                    <span class="text-secondary text-xs font-weight-bold">{{operative_request.taker}}</span>
                </td>
                <td class="align-middle">
                    <span class="text-secondary text-xs font-weight-bold">{{operative_request.applicant}}</span>
                </td>

                <td class="align-middle">
                    <span class="text-secondary text-xs font-weight-bold">{{operative_request.ramo}}</span>
                </td>
                <td class="align-middle text-end" >
                    <span class="text-secondary text-xs font-weight-bold">{{operative_request.value|currency}}</span>
                </td>
                <td class="align-middle">
                    <span class="text-secondary text-xs font-weight-bold">{{operative_request.status}}</span>
                </td>
                <td class="align-middle">
                    <button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#formModal" data-original-title="Ver Solicitud" onclick="load_data('view', '{{operative_request.id}}');">
                        <i class="fa fa-eye text-sm"></i>
                    </button>
                    {% if can_assign %}
                        {% if operative_request.status.id == '1' %}
                            <button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#formModal" data-original-title="Asignar Solicitud" onclick="load_data('assign', '{{operative_request.id}}');">
                                <i class="fa fa-hand-o-right text-sm"></i>
                            </button>
                        {% endif %}
                    {% endif %}
                    {% if can_load_documents %}
                        {% if operative_request.status.id == '2' %}
                            <button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#formModal" data-original-title="Registrar Documentos" onclick="load_data('loaddocuments', '{{operative_request.id}}');">
                                <i class="fa fa-file-text text-sm"></i>
                            </button>
                        {% endif %}
                    {% endif %}
                    {% if can_valide %}
                        {% if operative_request.status.id == '4' %}
                            <button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#formModal" data-original-title="Validar Pago" onclick="load_data('valide', '{{operative_request.id}}');">
                                <i class="fa fa-check-circle-o text-sm"></i>
                            </button>
                        {% endif %}
                    {% endif %}
                    {% if can_edit %}
                        <button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#formModal" data-original-title="Editar Solicitud" onclick="load_data('edit', '{{operative_request.id}}');">
                            <i class="fa fa-pencil text-sm"></i>
                        </button>
                    {% endif %}
                    {% if can_delete %}
                        <button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#formModal" data-original-title="Eliminar Solicitud" onclick="load_data('delete', '{{operative_request.id}}');">
                            <i class="fa fa-trash text-sm"></i>
                        </button>
                    {% endif %}
                </td>
            </tr>
    {% endfor %}
    </tbody> 
</table>